# Claw App 개선 기획안

## 현재 상태 (v0.1)
- ✅ 페어링 화면 (QR/코드/수동)
- ✅ Gateway Protocol v3 연결
- ✅ 기본 채팅 UI
- ✅ 코드블록, 인라인 버튼 지원

---

## 🎯 Phase 1: 핵심 기능 완성 (1-2주)

### 1.1 연결 안정성
| 항목 | 설명 | 우선순위 |
|------|------|----------|
| 백그라운드 유지 | 앱 백그라운드에서도 연결 유지 | 🔴 높음 |
| 재연결 로직 | 네트워크 변경 시 자동 재연결 | 🔴 높음 |
| 연결 상태 표시 | 연결중/연결됨/재연결중 상태 구분 | 🟡 중간 |
| 오프라인 큐 | 오프라인 시 메시지 대기열 저장 | 🟢 낮음 |

### 1.2 푸시 알림
| 항목 | 설명 | 우선순위 |
|------|------|----------|
| FCM/APNs 연동 | 앱 꺼져있을 때 알림 수신 | 🔴 높음 |
| 알림 설정 | 무음/진동/소리 선택 | 🟡 중간 |
| 알림 미리보기 | 메시지 내용 미리보기 on/off | 🟢 낮음 |

### 1.3 메시지 기능 강화
| 항목 | 설명 | 우선순위 |
|------|------|----------|
| 메시지 히스토리 | 이전 대화 로컬 저장 & 불러오기 | 🔴 높음 |
| 이미지 전송 | 사진첩/카메라에서 이미지 전송 | 🔴 높음 |
| 파일 전송 | 문서, 파일 첨부 | 🟡 중간 |
| 음성 메시지 | 녹음해서 전송 | 🟢 낮음 |
| 마크다운 렌더링 | **bold**, *italic*, 링크 등 | 🟡 중간 |

---

## 🎨 Phase 2: UX 개선 (2-3주)

### 2.1 디자인 시스템
| 항목 | 설명 | 우선순위 |
|------|------|----------|
| 다크모드 | 시스템 설정 연동 | 🔴 높음 |
| 커스텀 테마 | 에이전트별 색상 커스터마이징 | 🟢 낮음 |
| 타이포그래피 | SF Pro 폰트 적용 (iOS), Roboto (Android) | 🟡 중간 |
| 애니메이션 | 메시지 등장, 전환 애니메이션 | 🟢 낮음 |

### 2.2 채팅 UX
| 항목 | 설명 | 우선순위 |
|------|------|----------|
| 스와이프 답장 | 메시지 스와이프로 인용 답장 | 🟡 중간 |
| 메시지 복사 | 롱프레스로 텍스트 복사 | 🔴 높음 |
| 메시지 검색 | 대화 내용 검색 | 🟢 낮음 |
| 스크롤 to bottom | 새 메시지 시 하단 이동 버튼 | 🟡 중간 |
| 읽음 표시 | 전송됨/읽음 체크 표시 | 🟢 낮음 |

### 2.3 키보드 & 입력
| 항목 | 설명 | 우선순위 |
|------|------|----------|
| 키보드 높이 대응 | 키보드 올라올 때 자연스러운 처리 | 🔴 높음 |
| 입력 중 표시 | 상대방이 입력 중일 때 표시 | 🟡 중간 |
| 멀티라인 입력 | 여러 줄 메시지 작성 | 🔴 높음 |
| 슬래시 커맨드 | /명령어 자동완성 | 🟢 낮음 |

---

## 🚀 Phase 3: 고급 기능 (3-4주)

### 3.1 멀티 에이전트
| 항목 | 설명 | 우선순위 |
|------|------|----------|
| 에이전트 목록 | 여러 Clawdbot 에이전트 관리 | 🔴 높음 |
| 에이전트 전환 | 탭으로 빠른 전환 | 🟡 중간 |
| 에이전트 프로필 | 이름, 아바타, 상태 표시 | 🟡 중간 |
| 에이전트 삭제 | 스와이프로 연결 해제 | 🟢 낮음 |

### 3.2 미디어 & 파일
| 항목 | 설명 | 우선순위 |
|------|------|----------|
| 이미지 뷰어 | 풀스크린 이미지 보기, 줌 | 🔴 높음 |
| 미디어 갤러리 | 대화 내 미디어 모아보기 | 🟢 낮음 |
| 파일 다운로드 | 파일 저장 & 공유 | 🟡 중간 |
| 오디오 플레이어 | TTS 음성 재생 | 🟡 중간 |

### 3.3 편의 기능
| 항목 | 설명 | 우선순위 |
|------|------|----------|
| 위젯 | 홈화면 위젯 (마지막 메시지, 빠른 입력) | 🟢 낮음 |
| Siri/Shortcuts | "Hey Siri, ask Clawdbot..." | 🟢 낮음 |
| Share Extension | 다른 앱에서 공유 → Clawdbot 전송 | 🟡 중간 |
| 3D Touch/Haptic | 피드백, 퀵 액션 | 🟢 낮음 |

---

## 🔒 Phase 4: 보안 & 안정성 (지속)

### 4.1 보안
| 항목 | 설명 | 우선순위 |
|------|------|----------|
| 생체인증 | Face ID / Touch ID 잠금 | 🟡 중간 |
| 토큰 암호화 | SecureStore 저장 (완료) | ✅ 완료 |
| SSL Pinning | 중간자 공격 방지 | 🟢 낮음 |
| 자동 로그아웃 | 장기간 미사용 시 | 🟢 낮음 |

### 4.2 에러 핸들링
| 항목 | 설명 | 우선순위 |
|------|------|----------|
| 에러 메시지 | 사용자 친화적 에러 표시 | 🔴 높음 |
| 재시도 로직 | 실패 시 자동/수동 재시도 | 🟡 중간 |
| 크래시 리포팅 | Sentry/Crashlytics 연동 | 🟡 중간 |
| 로깅 | 디버그용 로그 (숨김 메뉴) | 🟢 낮음 |

---

## 📱 Phase 5: 플랫폼 최적화 (출시 전)

### 5.1 iOS
- [ ] App Store 심사 가이드라인 준수
- [ ] iOS 17+ 최적화
- [ ] iPad 대응 (선택)
- [ ] Apple Watch 앱 (선택)

### 5.2 Android
- [ ] Material Design 3 적용
- [ ] Android 14+ 최적화
- [ ] 태블릿 대응 (선택)
- [ ] Wear OS 앱 (선택)

### 5.3 출시 준비
- [ ] 앱 아이콘 & 스플래시
- [ ] 스토어 스크린샷
- [ ] 개인정보처리방침
- [ ] 이용약관

---

## 📊 우선순위 정리

### 🔴 이번 주 필수 (v0.2)
1. 메시지 히스토리 저장
2. 다크모드
3. 이미지 전송
4. 메시지 복사 (롱프레스)
5. 키보드 처리 개선

### 🟡 다음 스프린트 (v0.3)
1. 푸시 알림 (FCM/APNs)
2. 멀티 에이전트 지원
3. 마크다운 렌더링
4. 이미지 뷰어

### 🟢 나중에 (v1.0+)
1. 위젯
2. Siri 연동
3. Apple Watch
4. 음성 메시지

---

## 💡 차별화 포인트

| 기능 | Telegram | Discord | Claw |
|------|----------|---------|------|
| AI 에이전트 전용 | ❌ | ❌ | ✅ |
| 코드블록 실행 | ❌ | ❌ | ⭐ 가능 |
| 인라인 버튼 | ✅ | ✅ | ✅ |
| 로컬 AI 연결 | ❌ | ❌ | ✅ |
| 멀티 에이전트 | ❌ | ❌ | ✅ |
| 프라이버시 | 🟡 | 🟡 | ✅ 완전 로컬 |

---

*Last updated: 2026-02-01*
